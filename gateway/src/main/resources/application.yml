server:
  port: ${GATEWAY_PORT:8080}
spring:
  application:
    name: bookstore-gateway
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
          predicates:
            -
              name: Path
              args:
                pattern : "'/**'"
          filters:
            -
              name: RewritePath
              args:
                regexp: "'/(?<remaining>.*)'"
                replacement: "'/${remaining}'"
management:
  metrics:
    enabled: false
  endpoints:
    web:
      discovery:
        enabled: false
      exposure:
        include: [ 'health', 'info' ]
eureka:
  client:
    serviceUrl:
      defaultZone: http://${DISCOVERY_SERVICE:localhost}:${DISCOVERY_PORT:8761}/eureka
  instance:
    preferIpAddress: true